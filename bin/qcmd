#!/usr/bin/env ruby

require 'qcmd'
require 'trollop'

VERSION_STRING =  "qcmd #{ Qcmd::VERSION } (c) 2012 Figure 53, Baltimore, MD."

opts = Trollop::options do
  version VERSION_STRING
  opt :verbose, 'Use verbose mode', :default => false
  opt :debug, "Show full debug output, don't make changes to workspaces", :default => false
end

if opts[:verbose]
  Qcmd.log_level = :debug
end

if opts[:debug]
  Qcmd.log_level = :debug
  Qcmd.debug_mode = true
end

# browse local network and check for qlab + qlab workspaces

Qcmd.ascii_qlab
Qcmd.print
Qcmd.print Qcmd.centered_text(VERSION_STRING)

Qcmd::Network.browse_and_display

Qcmd::CLI.launch opts
