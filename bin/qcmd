#!/usr/bin/env ruby

require 'qcmd'
require 'trollop'

opts = Trollop::options do
  version "qcmd #{ Qcmd::VERSION } (c) 2012 Figure 53, Baltimore, MD."
  opt :verbose, 'Use verbose mode', :default => false
  opt :debug, "Show full debug output, don't make changes to workspaces", :default => false
end

if opts[:verbose]
  Qcmd.log_level = :debug
end

if opts[:debug]
  Qcmd.log_level = :debug
  Qcmd.debug_mode = true
end

# browse local network and check for qlab + qlab workspaces
Qcmd::Network.browse_and_display

Qcmd::CLI.launch opts
